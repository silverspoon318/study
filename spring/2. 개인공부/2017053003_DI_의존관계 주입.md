## 차별화
스프링이 여타 프레임워크와 차별화돼서 제공해주는 기능은 의존관계주입이라는 새로운 용어를 사용할 때 분명하게 드러난다.
Dependency Injection은 여러가지 우리말로 번역돼서 사용된다. 그 중에서 가장 흔히 사용되는 용어가 의존성 주입이다. 하지만 의존성이라는 말은 DI의 의미가 무엇인지 잘 드러내주지 못한다. 또한 의존(종속) 오브젝트 주입이라고도 부르기도 하는데, 이때는 DI가 일어나는 방법에 초점을 맞춘 것이다. 엄밀히 말해서 오브젝트는 다른 오브젝트에 주입할 수 있는게 아니다. 오브젝트의 레퍼런스가 전달될 뿐이다. DI는 오브젝트 레퍼런스를 외부로부터 제공(주입)받고 이를 통해 여타 오브젝트와 다이내믹하게 의존관계가 만들어지는 것이 핵심이다. 용어는 동작방식(매커니즘)보다는 의도를 가지고 이름을 짓는 것이 좋다. 그런 면에서 의존관계주입이라는 번역이 적절할 듯 싶다.

## 의존관계 주입
구체적인 의존 오브젝트와 그것을 사용할 주체, 보통 클라이언트라고 보르는 오브젝트를 런타임 시에 연결해주는 작업을 말한다.
UserDao는 ConnectionMaker 인터페이스라는 매우 단순한 조건만 만족하면 어떤 클래스로부터 만들어졌든 상관없이 오브젝트를 받아들이고 사용한다.

1. 클래스 모델이나 코드에는 런타임 시점의 의존관계가 드러나지 않는다. 그러기 위해서는 인터페이스에만 의존하고 있어야 한다.
2. 런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제 3의 존재가 결정한다.
3. 의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공(주입)해줌으로써 만들어진다.

의존관계 주입의 핵심은 설계 시점에는 알지 못했던 두 오브젝트의 관계를 맺도록 제3의 존재가 있다는 것이다.
DI에서 말하는 제 3의 존재는 바로 관계설정 책임을 가진 코드를 분리해서 만들어진 오브젝트라고 볼 수 있다.
전략 패턴에 등장하는 클라이언트나 앞에서 만들었던 DaoFactory, 또 DaoFactory와 같은 작업을 일반화해서 만들어졌다는 스프링의 애플리케이션 컨텍스트, 빈팩토리, IoC 컨테이너 등이 모두 외부에서
오브젝트 사이의 런타임 관계를 맺어주는 책임을 지닌 제 3의 존재라고 볼 수 있다.

@Configuration  //어플리케이션 컨테스트 또는 빈 팩토리가 사용할 설정정보라는 표시
public class DaoFactory {
  @Bean //오브젝트 생성을 담당하는 IoC용 메소드라는 표시
  public UserDao userDao() {
    return new UserDao(connectionMaker());
  }
  @Bean
  public ConnectionMaker connectionMaker() {
    return new DCconnectionMaker();
  }
}
